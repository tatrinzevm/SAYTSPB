$(document).ready((function(){var modal=$(".modal"),modalSuccess=$(".modal__success"),modalError=$(".modal__error"),modalForm=$(".modal__form"),modalBtn=$("[data-toggle=modal]"),closeBtn=$(".modal__close"),scrollUpBtn=$(".button__scroll-up__flex-block"),modalBtnOK=$(".modal__button--OK");scrollUpBtn.addClass("button__scroll-up__flex-block--hidden"),modalBtn.on("click",(function(){modal.toggleClass("modal--visibility")})),closeBtn.on("click",(function(){modal.toggleClass("modal--visibility")})),modalBtnOK.on("click",(function(evt){modalSuccess.removeClass("modal--visibility"),modalError.removeClass("modal--visibility")})),$(document).on("click",(function(evt){evt.target.classList.contains("modal")&&modal.toggleClass("modal--visibility")})),$(document).on("keydown",(function(evt){modal.is(":hidden")||27!=evt.keyCode||modal.removeClass("modal--visibility")})),$(document).on("click",(function(evt){evt.target.classList.contains("modal__success")&&modalSuccess.removeClass("modal--visibility")})),$(document).on("keydown",(function(evt){modalSuccess.is(":hidden")||27!=evt.keyCode||modalSuccess.removeClass("modal--visibility")})),$(document).on("click",(function(evt){evt.target.classList.contains("modal__error")&&modalError.removeClass("modal--visibility")})),$(document).on("keydown",(function(evt){modalError.is(":hidden")||27!=evt.keyCode||modalError.removeClass("modal--visibility")})),$(window).on("scroll",(function(){$(window).scrollTop()>100?scrollUpBtn.removeClass("button__scroll-up__flex-block--hidden wow bounceInUp"):scrollUpBtn.addClass("button__scroll-up__flex-block--hidden wow bounceInUp")})),scrollUpBtn.on("click",(function(){$("html,body").animate({scrollTop:0},500)})),$('a[href*="#"]').click((function(){return $("html,body").animate({scrollTop:$($.attr(this,"href")).offset().top},400),!1}));var mySwiper=new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),prevBtn=$(".swiper-button-prev"),nextBtn=$(".swiper-button-next"),bullets=$(".swiper-pagination"),player;function onPlayerReady(event){event.target.playVideo()}nextBtn.css("left",prevBtn.width()+27+bullets.width()+27),bullets.css("left",prevBtn.width()+27),(new WOW).init(),$(".modal__form").validate({errorElement:"div",errorClass:"invalid",validClass:"success",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:18,maxlength:18},userEmail:{required:!0,email:!0},policyCheckbox:"required"},messages:{userName:{required:"Пожалуйста, укажите имя",minlength:"Имя не должно быть короче двух символов",maxlength:"Имя не должно быть длиннее пятнадцати символов"},userPhone:{required:"Пожалуйста, укажите номер телефона",minlength:"Некорректный номер телефона",maxlength:"Некорректный номер телефона"},userEmail:{required:"Пожалуста, укажите email",email:"Email ожидается в формате name@domain.com"},policyCheckbox:"Вы должны согласиться с обработкой данных до отправки формы"},submitHandler:function(form){$.ajax({type:"POST",url:"send.php",data:$(form).serialize(),success:function(response){modal.removeClass("modal--visibility"),modalSuccess.addClass("modal--visibility"),$(form)[0].reset()},error:function(response){modal.removeClass("modal--visibility"),modalError.addClass("modal--visibility"),$(form)[0].reset()}})}}),$(".control__form").validate({errorElement:"div",errorClass:"invalid",validClass:"success",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:18,maxlength:18},controlPolicyCheckbox:"required"},messages:{userName:{required:"Пожалуйста, укажите имя",minlength:"Имя не должно быть короче двух символов",maxlength:"Имя не должно быть длиннее пятнадцати символов"},userPhone:{required:"Пожалуйста, укажите номер телефона",minlength:"Некорректный номер телефона",maxlength:"Некорректный номер телефона"},controlPolicyCheckbox:"Вы должны согласиться с обработкой данных до отправки формы"},submitHandler:function(form){$.ajax({type:"POST",url:"send.php",data:$(form).serialize(),success:function(response){modalSuccess.addClass("modal--visibility"),$(form)[0].reset()},error:function(response){modalError.addClass("modal--visibility"),$(form)[0].reset()}})}}),$(".footer__form").validate({errorElement:"div",errorClass:"invalid",validClass:"success",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:18,maxlength:18},userQuestion:"required",questionPolicyCheckbox:"required"},messages:{userName:{required:"Пожалуйста, укажите имя",minlength:"Имя не должно быть короче двух символов",maxlength:"Имя не должно быть длиннее пятнадцати символов"},userPhone:{required:"Пожалуйста, укажите номер телефона",minlength:"Некорректный номер телефона",maxlength:"Некорректный номер телефона"},userQuestion:"Пожалуйста, напишите свой вопрос",questionPolicyCheckbox:"Вы должны согласиться с обработкой данных до отправки формы"},submitHandler:function(form){$.ajax({type:"POST",url:"send.php",data:$(form).serialize(),success:function(response){modalSuccess.addClass("modal--visibility"),$(form)[0].reset()},error:function(response){modalError.addClass("modal--visibility"),$(form)[0].reset()}})}}),$(".video__play").on("click",(function onYouTubeIframeAPIReady(){player=new YT.Player("player",{height:"434",width:"100%",videoId:"g8Oi3LaTD5s",events:{onReady:onPlayerReady}})})),$("[type=tel]").mask("+7 (000) 000-00-00")}));